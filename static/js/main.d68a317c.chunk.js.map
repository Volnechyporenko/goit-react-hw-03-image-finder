{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/App.module.css"],"names":["module","exports","Loader","className","s","container","type","color","height","width","ImageGalleryItem","image","onImageClick","webformatURL","tags","onClick","src","alt","ImageGallery","images","map","id","Searchbar","state","search","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","SearchForm","autocomplete","autofocus","placeholder","onChange","Component","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","window","addEventListener","removeEventListener","createPortal","Overlay","children","API_URL","STATUSES","App","status","query","loading","page","showModal","modalImage","closeModal","onLoadMore","prevState","prevProps","pending","resolved","notFound","error","fetch","then","responce","ok","json","Promise","reject","Error","data","prev","concat","hits","totalHits","catch","length","scrollTo","top","documentElement","scrollHeight","behavior","largeImageURL","closeButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d68a317c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Z3Um\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2ZI3J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3MvqD\",\"Modal\":\"Modal_Modal__Xud1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__2bDP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2QPNo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2N9s8\"};","import LoaderComponent from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.container}>\n      <LoaderComponent type=\"Audio\" color=\"#D21F3C\" height={40} width={140} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, onImageClick }) => {\n  const { webformatURL, tags } = image;\n  return (\n    <li className={s.ImageGalleryItem} onClick={() => onImageClick(image)}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s['ImageGalleryItem-image']}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          image={image}\n          key={image.id}\n          onImageClick={onImageClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  state = {\n    search: '',\n  };\n\n  handleChange = event => {\n    this.setState({ search: event.target.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.search);\n  };\n\n  render() {\n    const { search } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={search}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport Loader from './Loader/Loader';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Searchbar from './Searchbar/Searchbar';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\nimport s from './App.module.css';\n\nconst API_URL = {\n  url: 'https://pixabay.com/api/',\n  key: 'key=19554713-985e885829a4f41904dd25c99',\n  perPage: 12,\n};\n\nconst STATUSES = {\n  resolved: 'resolved',\n  pending: 'pending',\n  notFound: 'notFound',\n  error: 'error',\n  idle: 'idle',\n};\n\nclass App extends Component {\n  state = {\n    images: [],\n    status: STATUSES.idle,\n    query: '',\n    loading: false,\n    page: 1,\n    showModal: false,\n    modalImage: {},\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page, images } = this.state;\n    const { pending, resolved, notFound, error } = STATUSES;\n    if (prevState.query !== query || prevState.page !== page) {\n      this.setState({ status: pending });\n      fetch(\n        `${API_URL.url}?${API_URL.key}&q=${query}&image_type=photo&per_page=${API_URL.perPage}&page=${page}`,\n      )\n        .then(responce => {\n          if (responce.ok) {\n            return responce.json();\n          }\n          return Promise.reject(new Error('Нет картинок'));\n        })\n        .then(data =>\n          this.setState(prev => ({\n            images: prev.images.concat(data.hits),\n            status: data.totalHits > 0 ? resolved : notFound,\n          })),\n        )\n        .catch(e => this.setState({ status: error }));\n    }\n    if (prevState.images.length && images.length > prevState.images.length) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  closeModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  onImageClick = image => {\n    this.setState({ modalImage: image, showModal: true });\n  };\n  onSubmit = query => {\n    if (!query) {\n      return;\n    }\n\n    this.setState({ query, images: [], page: 1 });\n  };\n\n  onLoadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { images, status, showModal, modalImage } = this.state;\n    const { pending, resolved, notFound } = STATUSES;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.onSubmit} />\n        {(status === resolved || status === pending) && (\n          <>\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n            {status === pending ? (\n              <Loader />\n            ) : (\n              <Button onClick={this.onLoadMore} />\n            )}\n          </>\n        )}\n        {status === notFound && <div>Images not found</div>}\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img\n              className={s.modalImage}\n              src={modalImage.largeImageURL}\n              alt={modalImage.tags}\n            />\n            <button className={s.closeButton} onClick={this.closeModal}>\n              X\n            </button>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2WxIB\",\"SearchForm\":\"Searchbar_SearchForm__1OrjC\",\"SearchForm-button\":\"Searchbar_SearchForm-button___5Ap8\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1mv0G\",\"SearchForm-input\":\"Searchbar_SearchForm-input__es_DG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__xJkO3\",\"modalImage\":\"App_modalImage__wo03K\",\"closeButton\":\"App_closeButton__318iK\"};"],"sourceRoot":""}